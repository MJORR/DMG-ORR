(()=>{"use strict";var e,t={735:()=>{const e=window.React,t=window.wp.blocks,n=window.wp.i18n,r=window.wp.blockEditor,l=window.wp.components,o=window.wp.element,a=window.wp.coreData,i=JSON.parse('{"UU":"create-block/dmg-anchor-link"}'),s=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M13.394 21.711c-1.528.393-3.06.428-4.388.013l6.709-13.886c1.049-2.148 2.947-1.474 3.949-3.521.207-.423.305-.872.305-1.314 0-1.681-1.366-3.003-2.995-3.003-1.734 0-2.974 1.445-2.974 3.055 0 1.274.716 2.272-.082 3.903l-6.709 13.889c-1.762-1.229-3-3.596-3.449-6.104l1.848-.146-3.134-4.542-2.474 4.924 1.746-.156c.602 3.721 2.521 6.808 5.482 8.258 1.264.619 2.62.919 4.016.919 1.031 0 2.086-.179 3.141-.498-.42-.536-.755-1.139-.991-1.791zm3.606-19.712c.547 0 1 .444 1 1.001 0 .54-.441.999-1.004.999-.551 0-.996-.449-.996-1.002 0-.547.443-.998 1-.998zm2.5 13.001c-2.484 0-4.5 2.015-4.5 4.5s2.016 4.5 4.5 4.5c2.482 0 4.5-2.015 4.5-4.5s-2.018-4.5-4.5-4.5zm2.5 5h-2v2h-1v-2h-2v-1h2v-2h1v2h2v1z"}));(0,t.registerBlockType)(i.UU,{icon:s,edit:function({attributes:t,setAttributes:i}){const{selectedPost:s}=t,[c,d]=(0,o.useState)(""),[m,h]=(0,o.useState)(1),u={per_page:4,status:"publish",page:m};c&&(/^\d+$/.test(c)?u.include=[parseInt(c,10)]:u.search=c);const{records:p=[],hasResolved:g,isResolving:k,hasResolutionFailed:v}=(0,a.useEntityRecords)("postType","post",u);return(0,o.useEffect)((()=>{h(1)}),[c]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,n.__)("Post Selector","dmg-anchor-link")},(0,e.createElement)(l.SearchControl,{value:c,onChange:e=>d(e),placeholder:(0,n.__)("Search Posts or Enter Post ID","dmg-anchor-link")}),v&&(0,e.createElement)(l.Notice,{status:"error",isDismissible:!1},(0,n.__)("Failed to load posts. Please try again.","dmg-anchor-link")),k&&(0,e.createElement)(l.Spinner,null),g&&p.length>0&&(0,e.createElement)(l.MenuGroup,{label:(0,n.__)("Select post","dmg-anchor-link")},p.map((t=>(0,e.createElement)(l.MenuItem,{key:t.id,onClick:()=>(e=>{if(isNaN(e)||null===e||!p)return;const t=p.find((t=>t.id===e));if(t){const{id:e,title:{rendered:n},link:r}=t;i({selectedPost:{id:e,title:{rendered:n},link:r}})}})(t.id),isSelected:s&&s.id===t.id,className:"dmg-anchor-link-menu-item "+(s&&s.id===t.id?"is-selected":"")},t.title.rendered)))),g&&0===p.length&&(0,e.createElement)("p",null,(0,n.__)("Sorry, no results for that search term or ID.","dmg-anchor-link")),(0,e.createElement)("div",{className:"pagination-controls"},(0,e.createElement)("p",null,(0,n.__)("Results Page","dmg-anchor-link")," ",m),(0,e.createElement)(l.ButtonGroup,null,(0,e.createElement)(l.Button,{variant:"secondary",disabled:m<=1,onClick:()=>{m>1&&h(m-1)}},(0,n.__)("Previous","dmg-anchor-link")),(0,e.createElement)(l.Button,{variant:"secondary",disabled:!g||p.length<4,onClick:()=>{g&&p.length>=4&&h(m+1)}},(0,n.__)("Next","dmg-anchor-link")))))),(0,e.createElement)("p",{...(0,r.useBlockProps)({className:"dmg-read-more"})},(0,n.__)("Read More: ","dmg-anchor-link"),s&&s.link?(0,e.createElement)("a",{href:s.link},s.title.rendered):(0,e.createElement)("span",null,(0,n.__)("Add a stylized anchor link.","dmg-anchor-link"))))},save:function({attributes:t}){const{selectedPost:l}=t;if(!l)return;const{title:o,link:a}=l;return(0,e.createElement)("p",{...r.useBlockProps.save({className:"dmg-read-more"})},(0,n.__)("Read More: ","dmg-anchor-link"),(0,e.createElement)("a",{href:a},o.rendered))}})}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,l,o)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,l,o]=e[d],i=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(i=!1,o<a&&(a=o));if(i){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,l,o]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[a,i,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(s)var d=s(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},n=globalThis.webpackChunkdmg_anchor_link=globalThis.webpackChunkdmg_anchor_link||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=r.O(void 0,[350],(()=>r(735)));l=r.O(l)})();